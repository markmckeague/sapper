{"version":3,"file":"build.ts.js","sources":["../src/cli/build.ts"],"sourcesContent":["import { build as _build } from '../api/build';\nimport * as colors from 'ansi-colors';\nimport { locations } from '../config';\n\nexport function build() {\n\treturn new Promise((fulfil, reject) => {\n\t\ttry {\n\t\t\tconst emitter = _build({\n\t\t\t\tdest: locations.dest(),\n\t\t\t\tapp: locations.app(),\n\t\t\t\troutes: locations.routes(),\n\t\t\t\twebpack: 'webpack'\n\t\t\t});\n\n\t\t\temitter.on('build', event => {\n\t\t\t\tconsole.log(colors.inverse(`\\nbuilt ${event.type}`));\n\t\t\t\tconsole.log(event.webpack_stats.toString({ colors: true }));\n\t\t\t});\n\n\t\t\temitter.on('error', event => {\n\t\t\t\treject(event.error);\n\t\t\t});\n\n\t\t\temitter.on('done', event => {\n\t\t\t\tfulfil();\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log(`${colors.bold.red(`> ${err.message}`)}`);\n\t\t\tprocess.exit(1);\n\t\t}\n\t});\n}"],"names":["_build","locations","colors.inverse","colors.bold"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAKC,OAAO,IAAI,OAAO,CAAC,UAAC,MAAM,EAAE,MAAM;QACjC,IAAI;YACH,IAAM,OAAO,GAAGA,eAAM,CAAC;gBACtB,IAAI,EAAEC,mBAAS,CAAC,IAAI,EAAE;gBACtB,GAAG,EAAEA,mBAAS,CAAC,GAAG,EAAE;gBACpB,MAAM,EAAEA,mBAAS,CAAC,MAAM,EAAE;gBAC1B,OAAO,EAAE,SAAS;aAClB,CAAC,CAAC;YAEH,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,UAAA,KAAK;gBACxB,OAAO,CAAC,GAAG,CAACC,cAAc,CAAC,aAAW,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACrD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;aAC5D,CAAC,CAAC;YAEH,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,UAAA,KAAK;gBACxB,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aACpB,CAAC,CAAC;YAEH,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,UAAA,KAAK;gBACvB,MAAM,EAAE,CAAC;aACT,CAAC,CAAC;SACH;QAAC,OAAO,GAAG,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,KAAGC,WAAW,CAAC,GAAG,CAAC,OAAK,GAAG,CAAC,OAAS,CAAG,CAAC,CAAC;YACtD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAChB;KACD,CAAC,CAAC;CACH;;;;"}