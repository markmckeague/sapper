{"version":3,"file":"api.ts.js","sources":["../src/api/find_page.ts"],"sourcesContent":["import * as glob from 'glob';\nimport { locations } from '../config';\nimport { create_routes } from '../core';\n\nexport function find_page(pathname: string, files: string[] = glob.sync('**/*.*', { cwd: locations.routes(), dot: true, nodir: true })) {\n\tconst routes = create_routes({ files });\n\n\tfor (let i = 0; i < routes.length; i += 1) {\n\t\tconst route = routes[i];\n\n\t\tif (route.pattern.test(pathname)) {\n\t\t\tconst page = route.handlers.find(handler => handler.type === 'page');\n\t\t\tif (page) return page.file;\n\t\t}\n\t}\n}"],"names":["glob.sync","locations","create_routes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAI0B,QAAgB,EAAE,KAA0F;IAA1F,sBAAA,EAAA,QAAkBA,SAAS,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAEC,mBAAS,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;IACrI,IAAM,MAAM,GAAGC,qBAAa,CAAC,EAAE,KAAK,OAAA,EAAE,CAAC,CAAC;IAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QAC1C,IAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAExB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YACjC,IAAM,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,IAAI,KAAK,MAAM,GAAA,CAAC,CAAC;YACrE,IAAI,IAAI;gBAAE,OAAO,IAAI,CAAC,IAAI,CAAC;SAC3B;KACD;CACD;;;;;;;"}